<% if attachments.present? %>
<div id="myCarousel" class="carousel slide" data-ride="carousel">

  <ol class="carousel-indicators">
    <% attachments.each_with_index do |attachment, index| %>
      <li data-target='#myCarousel' data-slide-to=<%= index %> class='active'></li>
    <% end %>
  </ol>

  <div class="carousel-inner" role="listbox">
    <% attachments.each do |attachment| %>
      <% attachment == attachments.first ? carousel_class = 'item active' : carousel_class = 'item' %>
      <div class="<%= carousel_class %>">
        <%= image_tag(attachment.image.url(:medium), class: 'img-responsive') %>
      </div>
    <% end %>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
<% else %>
  <%= image_tag 'medium/missing.png', alt: 'Profile Picture Unavailable', class: 'img-responsive' %>
<% end %>
